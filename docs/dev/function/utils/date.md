---
outline: deep
---

# 日期函数 [js-fastcode](https://www.npmjs.com/package/js-fastcode)

该文件是将常用的日期函数进行统一封装并发布到 npm 上，使用时安装依赖。

```
npm  install  js-fastcode
```

## 1、timeFormate([type,timeStamp])

说明：

> 格式化日期时间，接收两个参数，type 和 timeStamp

参数：

| 参数      | 是否必传 | 类型               | 说明                                                                                            |
| --------- | -------- | ------------------ | ----------------------------------------------------------------------------------------------- |
| type      | 非必传   | number             | 1、返回年月(YYYY-MM) <br>2、返回年月日(YYYY-MM-DD) <br>3、返回年月日时分秒(YYYY-MM-DD HH:mm:ss) |
| timeStamp | 非必传   | string 或者 number | 如果传入该参数，则格式化传入的参数， 否则，默认使用当前时间                                     |

使用：

```javascript
// 获取当前时间年月
timeFormate(1);

// 获取当前时间年月日
timeFormate(2);

// 获取当前时间年月日时分秒
timeFormate(3);

// 获取某天年月日时分秒,第二个参数支持字符串
timeFormate(3, "Thu Nov 23 2021 14:45:11 GMT+0800 (中国标准时间)");

// 获取某天年月日时分秒,第二个参数支持number
timeFormate(3, 1300721936550);
```

## 2、getTomorrow()

说明：

> 获取明天的日期，返回年月日格式(YYYY-MM-DD)

使用：

```javascript
// 获取明天的日期
getTomorrow();
```

## 3、getMonthDays(year,month)

说明：

> 获取月份的天数，接收两个参数 year 和 month

参数：
| 参数 | 是否必传 | 类型 | 说明 |
| :---: | :------: | :----: | :----: |
| year | 必传 | string | "YYYY" |
| month | 必传 | number | number |

使用：

```javascript
// 获取2023年2月的天数
getMonthDays("2023", 2);

// 获取2023年11月的天数
getMonthDays("2023", 11);
```

## 4、getTenday(date)

说明：

> 查询日期所在旬，接收一个参数 date
>
> 返回值：1 -> 上旬，2 -> 中旬，3 -> 下旬

参数：
| 参数 | 是否必传 | 类型 | 说明 |
| :--: | :------: | :------------: | :--------------------: |
| date | 必传 | string，number | "YYYY-MM-DD"或者时间戳 |

使用：

```javascript
// 获取某天的旬类型
getTenday("2023-03-11");
```

## 5、getQuarter(date)

说明：

> 查询月份所在的季度，接收一个参数 date
>
> 返回值：1 -> 一季度，2 -> 二季度，3 -> 三季度，4 -> 四季度

参数：

| 参数 | 是否必传 |      类型      |          说明          |
| :--: | :------: | :------------: | :--------------------: |
| date |   必传   | string，number | "YYYY-MM-DD"或者时间戳 |

使用：

```javascript
// 获取传入时间所在的季度
getQuarter("2023-05-15");
```

## 6、getPrevDate(num[,type])

说明：

> 获取 num 天前的日期，接收两个参数 num 和 type

参数：

| 参数 | 是否必传 | 类型   | 说明                                                               |
| ---- | -------- | ------ | ------------------------------------------------------------------ |
| num  | 必传     | number | 传入要获取的天数                                                   |
| type | 非必传   | number | 默认返回"YYYY-MM-DD" <br> 1、["YYYY-MM","DD"] <br> 2、"YYYY-MM-DD" |

使用：

```javascript
// 获取3天前的日期，返回数据类型为["YYYY-MM","DD"]
getPrevDate(3, 1); // 结果是['2023-11', '21']

// 获取5天前的日期，返回数据类型是"YYYY-MM-DD"
getPrevDate(5); // 结果是'2023-11-19'
```

## 7、getPreMonth()

说明：

> 获取上个月月份，无需传参
>
> 返回值："YYYY-MM"

使用：

```javascript
// 获取上个月月份
getPreMonth(); // 结果是'2023-10'
```

## 8、getNextMonth()

说明：

> 获取下个月月份，无需传参
>
> 返回值："YYYY-MM"

使用：

```javascript
// 获取上个月月份
getNextMonth(); // 结果是'2023-12'
```

## 9、getOtherDate(timeType, num[, type, dateTime])

说明：

> 获取某一天的日期。接收四个参数，timeType, n, type, dateTime

参数：

| 参数     | 是否必传 | 类型          | 说明                                                                                   |
| -------- | -------- | ------------- | -------------------------------------------------------------------------------------- |
| timeType | 必传     | number        | 1、表示未来的某一天 <br> 2、表示过去的某一 天                                          |
| num      | 必传     | number        | 表示未来/过去第几天 <br> 例如获取明天或昨天的日期，则 n 为 1，后天或者前天则 n 为 2... |
| dateTime | 非必传   | string,number | 默认不传,如果传参，则以传参的日期为参照时间进行处理                                    |
| type     | 非必传   | number        | 默认返回"YYYY-MM-DD" <br> 1、["YYYY-MM","DD"] <br>2、"MM-DD"                           |

使用：

```javascript
// 获取三天之后的日期
getOtherDate(1, 3);

// 获取4天之前的日期
getOtherDate(2, 4);

// 获取5天之后的月日,第三个参数不需要时传入null
getOtherDate(1, 5, null, 2);

// 获取2023-11-02之后的3天，返回月日
getOtherDate(1, 3, "2023-11-02", 2);
```

## 10、devideTimes(time[,type=1])

说明：

> 根据 time 将一天时间进行分割，接收一个参数 time
>
> type=1,按照 15 分钟分割[00:15,00:30,00:45,01:00...]
>
> type=2,按照 15 分钟分割[00:00,00:15,00:30,01:45...]
>
> 需要注意的是，如果时间跨度无法被整除，那么生成的时间区间可能无法完全覆盖 24 小时。

参数：

| 参数 | 是否必传 | 类型   | 说明                                                     |
| ---- | -------- | ------ | -------------------------------------------------------- |
| time | 必传     | number | 表示按照多长时间进行分割，单位是分钟                     |
| type | 非必传   | number | 默认是 1，代表从 index+1 开始分割<br>2 代表从 index 分割 |

使用：

```javascript
// 以15分钟进行分割时间，从00:15开始
devideTimes(15, 1);

// 以30分钟进行峰时间，从00:00开始
devideTimes(30, 2);
```

## 11、devideFormatTimes(time)

说明：

> 根据 time 自动生成 24 小时时间区间，接收一个参数 time。
>
> 需要注意的是，如果时间跨度无法被整除，那么生成的时间区间可能无法完全覆盖 24 小时。

参数：

| 参数 | 是否必传 | 类型   | 说明                                                                                                                                              |
| ---- | -------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| time | 必传     | number | 表示按照多长时间进行分割，单位是分钟 <br> 按照 15 分钟分割 ["00:00-00:15","00:15-00:30"...]<br> 按照 30 分钟分割 ["00:00-00:30","00:30-01:00"...] |

使用：

```javascript
// 按照15分钟分割
devideFormatTimes(15);

// 按照60分钟分割
devideFormatTimes(60);
```

## 12、getHoursTimes()

说明：

> 动态将一年的时间生成 8760 个小时的数组

使用：

```javascript
// 生成8760个小时
getHoursTimes();
```

## 13、diffDays(date1,date2)

说明：

> 计算两个日期之间的天数，接收两个参数 date1 和 date2。

参数：

| 参数  | 是否必传 | 类型           | 说明                   |
| ----- | -------- | -------------- | ---------------------- |
| date1 | 必传     | number，string | "YYYY-MM-DD"或者时间戳 |
| date2 | 必传     | number，string | "YYYY-MM-DD"或者时间戳 |

使用：

```javascript
// 计算2023-02-03和2023-10-10之间的天数
diffDays("2023-02-03", "2023-10-10");

// 计算2023-02-03和2022-10-10之间的天数
diffDays("2023-02-03", "2022-10-10");
```
